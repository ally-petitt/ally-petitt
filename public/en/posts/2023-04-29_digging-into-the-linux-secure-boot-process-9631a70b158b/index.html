<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Digging into the Linux Secure Boot Process | Ally Petitt</title>
<meta name=keywords content="Secure Boot,Linux"><meta name=description content="Linux Penguin
Introduction This article will begin with a high-level overview of the Ubuntu boot process and will continue to dig deeper into the role of SecureBoot in it when enabled. Some of the concepts I will be covering include shim, EFI variables, and MOKs. The information presented here was aggregated from the sources listed at the bottom of this article. Commands and example output will also be included to help present the topic in a more comprehensive way."><meta name=author content="Ally Petitt"><link rel=canonical href=https://ally-petitt.com/en/posts/2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://ally-petitt.com/assets/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ally-petitt.com/assets/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ally-petitt.com/assets/favicon-32x32.png><link rel=apple-touch-icon href=https://ally-petitt.com/assets/apple-touch-icon.png><link rel=mask-icon href=https://ally-petitt.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://ally-petitt.com/en/posts/2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Digging into the Linux Secure Boot Process"><meta property="og:description" content="Linux Penguin
Introduction This article will begin with a high-level overview of the Ubuntu boot process and will continue to dig deeper into the role of SecureBoot in it when enabled. Some of the concepts I will be covering include shim, EFI variables, and MOKs. The information presented here was aggregated from the sources listed at the bottom of this article. Commands and example output will also be included to help present the topic in a more comprehensive way."><meta property="og:type" content="article"><meta property="og:url" content="https://ally-petitt.com/en/posts/2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-04-29T00:00:00+00:00"><meta property="article:modified_time" content="2023-04-29T00:00:00+00:00"><meta property="og:site_name" content="Ally Petitt"><meta name=twitter:card content="summary"><meta name=twitter:title content="Digging into the Linux Secure Boot Process"><meta name=twitter:description content="Linux Penguin
Introduction This article will begin with a high-level overview of the Ubuntu boot process and will continue to dig deeper into the role of SecureBoot in it when enabled. Some of the concepts I will be covering include shim, EFI variables, and MOKs. The information presented here was aggregated from the sources listed at the bottom of this article. Commands and example output will also be included to help present the topic in a more comprehensive way."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ally-petitt.com/en/posts/"},{"@type":"ListItem","position":2,"name":"Digging into the Linux Secure Boot Process","item":"https://ally-petitt.com/en/posts/2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Digging into the Linux Secure Boot Process","name":"Digging into the Linux Secure Boot Process","description":"Linux Penguin\nIntroduction This article will begin with a high-level overview of the Ubuntu boot process and will continue to dig deeper into the role of SecureBoot in it when enabled. Some of the concepts I will be covering include shim, EFI variables, and MOKs. The information presented here was aggregated from the sources listed at the bottom of this article. Commands and example output will also be included to help present the topic in a more comprehensive way.","keywords":["Secure Boot","Linux"],"articleBody":" Linux Penguin\nIntroduction This article will begin with a high-level overview of the Ubuntu boot process and will continue to dig deeper into the role of SecureBoot in it when enabled. Some of the concepts I will be covering include shim, EFI variables, and MOKs. The information presented here was aggregated from the sources listed at the bottom of this article. Commands and example output will also be included to help present the topic in a more comprehensive way.\nUnderstanding the boot process along with SecureBoot is important because without adequate understanding of the inner-workings of a Linux system, it can be very easy to accidentally brick the system when attempting to enable settings such as SecureBoot. These are low-level operations that can do a lot of damage.\nI would encourage Windows users to reference this documentation for Secure Boot information relating to Windows.\nTypical Boot Process When an Ubuntu machine boots, it goes through 4 main phases.\nBIOS phase- firmware on motherboard, typically stored as a form of read only memory (ROM), contains code to initialize the hardware components of the computer and obtain the code for the bootloader. Bootloader phase- loads the operating system into memory along with an inital ram disk filesystem (initrd). Kernel phase- the kernel executes the init script inside the initrd filesystem. This loads hardware drivers and mounts the root partition. System startup- the operating system loads system daemons and services, sets up the network, mounts file systems, starts system logging, and performs other initialization tasks. It is common for a 512-bit partition to be present on Linux systems called the Master Boot Record (MBR). This partition contains the bootloader (GRUB, LILO, yaboot, or others) and boot records. This is one of the places that Linux can be booted from. Other locations include a bootloader from a storage device like USB flash drive or CDR or a bootloader that is transferred over the network such as with Preboot Execution Environment (PXE).\nSecure Boot Secure Boot is a security standard. When the computer is turned on, the Secure Boot process begins with firmware in the motherboard, which will check the cryptographic signatures of each of the boot files. This includes UEFI firmware drivers (aka optional ROMs), EFI applications, and the operating system. Once verified, the computer boots and the firmware gives control to the operating system.\nShim When enabling Secure Boot, it is important to understand shim. In the context of SecureBoot, a shim is a pre-bootloader program that is designed to work with Secure Boot firmware. It allows for bootloaders and kernel modules to be loaded and executed if they are not included in the Secure Boot database. In Ubuntu, the shim loader is pre-installed and signed by the Microsoft certificate authority.\nSecure Boot uses asymmetrical cryptography, meaning that a public and private key are used. The key pair can be generated by the user and the private key is used to sign all programs that are allowed to run, including the GRUB bootloader. The firmware on the BIOS or UEFI will use the public key to verify the checksums and signatures of programs before allowing them to execute.\nYou can check the signatures of your own shim loader with the sbverify command that comes with the sbsigntool package.\n# locate your shim binary $ SHIM=$(sudo find /boot/efi/EFI/ -iname \"shim*\" 2\u003e/dev/null) $ sbverify $SHIM Signature verification OK UEFI variables Another concept to be familiar with is the UEFI variables which are stored in firmware non-volatile RAM (NV-RAM). These variables store various data such as boot order preferences, timeout values, network settings, storage device details, and Secure Boot settings. Each UEFI variable will have its own binary file under /sys/firmware/efi/efivars/. The naming convention for these files is the variable name followed by the vendor GUID. For example,SecureBoot-8be4df61–93ca-11d2-aa0d-00e098032b8cmay be used to store whether Secure Boot is enabled (0x01) or disabled (0x00).\nYou can view some of these variables by either listing the contents of /sys/firmware/efi/efivars/ or using the [efivarfs](https://manpages.org/efivar) tool to list and read the values.\n$ sudo apt-get install efivar $ sudo efivar -p -n 8be4df61-93ca-11d2-aa0d-00e098032b8c-SecureBoot 1 ⨯ Example output of the above command\nIn this particular example, the value of the UEFI variable SecureBoot is 0x01, which indicates that it is currently enabled. Some of the other important variables for Secure Boot are the following:\n8be4df61-93ca-11d2-aa0d-00e098032b8c-PKDefault 8be4df61-93ca-11d2-aa0d-00e098032b8c-KEKDefault 8be4df61-93ca-11d2-aa0d-00e098032b8c-dbDefault 8be4df61-93ca-11d2-aa0d-00e098032b8c-dbxDefault These values pertain to the key databases which are used to determine whether or not a module is safe to load.\nSecure Boot Databases Secure Boot utilizes 4 key databases. You can read more about them in the official specifications or see a summary here:\nAllowed Signature Database (db)- contains a list of cryptographic signatures that are allowed to load during the boot process. Disallowed Signature Database (dbx)- contains a list of the cryptographic signatures that are not allowed to be loaded during the boot process. Key Enrollment Key Database (KEK)- contains the key exchange keys used to authenticate other databases. Platform Key Database (PK)- contains the public key that is used to verify the signature of any bootloader or firmware that has been signed with its corresponding private key. The recommended platform key on UEFI is RSA-2048. The key databases essentially set the rules for which signatures are allowed to be loaded and which are not. This is important in Secure Boot because it helps to verify the integrity of modules before they are executed.\nMachine Owner Keys (MOKs) Another component of the boot process is Machine Owner Keys (MOKs). MOKs are an extra database of keys that can be managed by the user. This is separate from the certificate authority key that comes shipped with shim. They give the user more control over which modules can be loaded. For example, when a user enrolls a MOK on the system, the key associated with it is added to the allowed signature database (db). This means that any binary signed with that key will be trusted by the firmware during the boot process.\nThese are typically located in the/var/lib/shim-signed/mok/ directory under the names MOK.der, MOK.pem or MOK.priv. If you don’t have MOK keys and would like to generate them, the following commands can be used:\n# mkdir -p /var/lib/shim-signed/mok/ # cd /var/lib/shim-signed/mok/ # openssl req -new -x509 -newkey rsa:2048 -keyout MOK.priv -outform DER -out MOK.der -days 36500 -subj \"/CN=My Name/\" # openssl x509 -inform der -in MOK.der -out MOK.pem By default, shim provides a management utility called MokManager that can be used to, “enroll keys, remove trusted keys, enroll binary hashes and toggle Secure Boot validation at the shim level,” as described by the Ubuntu documentation. Note that a password is typically required when using the MokManager to authenticate the user that is using it.\nMokManager will help to properly configure the keys when key management is required. Once key management has been completed, the system will reboot to enable the key management changes. If things go well, it will continue to boot as expected without a MokManager screen.\nBootloader Configurations and Information You can futher investigate your Linux machine’s boot process. One way to do this is to view the /proc/cmdline file. This contains the kernel boot command line arguments that were passed to the kernel during the boot process.\n$ cat /proc/cmdline # example output BOOT\\_IMAGE=/boot/vmlinuz-5.11.0-16-generic root=UUID=12345678-1234-1234-1234-1234567890AB ro quiet splash This command will output the path to the kernel image file that is loaded by the bootloader via BOOT_IMAGE. The quiet splash option at the end is commonly used by the GRUB bootloader to specify to suppress verbose boot messages and display a graphical boot splash screen.\nA kernel image is a binary file of the operating system core. It contains contains the necessary code and data structures to boot the system, manage memory, handle input/output operations, and execute user programs. They can be used by the bootloader to start the OS. The name of the kernel image will typically represent its version and architecture. For instance, the kernel image vmlinuz-5.4.0–1042-aws is version 5.4.0–1042 running on AWS archtecture.\nThe bootloader contains its own file system drivers (initramfs) that you can view if you know the /boot/initrd* file that corresponds to the kernel image in use. The easiest way to do this is with the tools from [initramfs-tools-core](https://packages.debian.org/initramfs-tools-core \"DebianPackage\"):\n## list files inside the initramfs $ lsinitramfs /boot/initrd.img-$(uname -r) . kernel kernel/x86 . bin conf conf/arch.conf conf/conf.d conf/conf.d/resume -- snip -- ## extract files from the initramfs $ unmkinitramfs /boot/initrd.img-$(uname -r) initramfs/ This allows you to navigate the initramfs filesystem and gain a deeper understanding of how things are working as the system boots. If you extracted initramfs, you’ll notice that upon looking in the directory ./initramfs, there are 3 folders: early, early2, and main.\n$ ls initramfs early early2 main In the context of initramfs, early and early2 refer to the first and second stage of the initial RAM filesystem. During the first stage, the minimal set of drivers and utilities that are needed to initialize the hardware and mount the real root filesystem are loaded. In the second stage, early2, loads additional drivers and utilities needed to fully initialize the system.\nThe main folder of initramfs contains the actual root filesystem image, as well as any additional tools or drivers that may be needed during the boot process. Once the root filesystem has been mounted, the system can proceed to load the regular set of services and daemons needed to run the operating system.\nChecking Signatures Manually You can check which modules are digitally signed using the modinfo command where a kernel’s signature will appear as a long string of hexadecimal values separated by colons.\n$ modinfo example.ko filename: /lib/modules/5.10.0-5-amd64/kernel/drivers/misc/example.ko version: 1.0.0 license: GPL description: Example kernel module author: John Doe srcversion: 12AB34CD5678EF90ABCD1234 sig\\_key: A0:3B:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF sig\\_hashalgo: sha256 signature: 12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF Conclusion Thanks for reading this overview of Secure Boot. I would encourage you to do further reading in the sources linked below because this article only scratched the surface. I hope that from this article you were able to come to appreciate the beautifully complex system of a Linux machine turning on.\nSources Ubuntu’s wiki on Secure Boot (detailed) Ubuntu’s wiki on Booting Process Linux Documentation- Kernel Module Signing Mike Danslegio Explains Secure Boot User Space and Kernel Space in Linux Kernel.org- Ramfs, rootfs, and initramfs SecureBoot Debian Wiki Check UEFI or BIOS Using the initial RAM disk (initrd) Linux Boot Process Explained Preboot Execution Environment EFI Variables- Stack Exchange UEFI Specification Version 2.9 (March 2021) Initramfs Debian Wiki ","wordCount":"1747","inLanguage":"en","datePublished":"2023-04-29T00:00:00Z","dateModified":"2023-04-29T00:00:00Z","author":{"@type":"Person","name":"Ally Petitt"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ally-petitt.com/en/posts/2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b/"},"publisher":{"@type":"Organization","name":"Ally Petitt","logo":{"@type":"ImageObject","url":"https://ally-petitt.com/assets/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ally-petitt.com/en/ accesskey=h title="Home (Alt + H)">Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ally-petitt.com/en/archives title=Archive><span>Archive</span></a></li><li><a href=https://ally-petitt.com/en/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://ally-petitt.com/en/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://ally-petitt.com/en/about-me/ title="About Me"><span>About Me</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ally-petitt.com/en/>Home</a>&nbsp;»&nbsp;<a href=https://ally-petitt.com/en/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Digging into the Linux Secure Boot Process</h1><div class=post-meta><span title='2023-04-29 00:00:00 +0000 UTC'>2023-04-29</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;Ally Petitt</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a><ul><li><a href=#typical-bootprocess aria-label="Typical Boot Process">Typical Boot Process</a></li><li><a href=#secure-boot aria-label="Secure Boot">Secure Boot</a></li><li><a href=#shim aria-label=Shim>Shim</a></li><li><a href=#uefi-variables aria-label="UEFI variables">UEFI variables</a></li><li><a href=#secure-boot-databases aria-label="Secure Boot Databases">Secure Boot Databases</a></li><li><a href=#machine-owner-keysmoks aria-label="Machine Owner Keys (MOKs)">Machine Owner Keys (MOKs)</a></li><li><a href=#bootloader-configurations-and-information aria-label="Bootloader Configurations and Information">Bootloader Configurations and Information</a></li><li><a href=#checking-signatures-manually aria-label="Checking Signatures Manually">Checking Signatures Manually</a></li></ul></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li><li><a href=#sources aria-label=Sources>Sources</a></li></ul></div></details></div><div class=post-content><p><img loading=lazy src=https://cdn-images-1.medium.com/max/800/0*6T29Pwj4dMhQiPRW.png alt>
<em>Linux Penguin</em></p><h1 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h1><p>This article will begin with a high-level overview of the Ubuntu boot process and will continue to dig deeper into the role of SecureBoot in it when enabled. Some of the concepts I will be covering include shim, EFI variables, and MOKs. The information presented here was aggregated from the sources listed at the bottom of this article. Commands and example output will also be included to help present the topic in a more comprehensive way.</p><p>Understanding the boot process along with SecureBoot is important because without adequate understanding of the inner-workings of a Linux system, it can be very easy to accidentally brick the system when attempting to enable settings such as SecureBoot. These are low-level operations that can do a lot of damage.</p><p>I would encourage Windows users to reference <a href=https://learn.microsoft.com/en-us/windows-hardware/design/device-experiences/oem-secure-boot>this documentation</a> for Secure Boot information relating to Windows.</p><h2 id=typical-bootprocess>Typical Boot Process<a hidden class=anchor aria-hidden=true href=#typical-bootprocess>#</a></h2><p>When an Ubuntu machine boots, it goes through <a href=https://wiki.ubuntu.com/Booting>4 main phases</a>.</p><ol><li><strong>BIOS phase</strong>- firmware on motherboard, typically stored as a form of read only memory (ROM), contains code to initialize the hardware components of the computer and obtain the code for the bootloader.</li><li><strong>Bootloader phase</strong>- loads the operating system into memory along with an inital ram disk filesystem (<a href=https://www.kernel.org/doc/html/latest/admin-guide/initrd.html>initrd</a>).</li><li><strong>Kernel phase</strong>- the kernel executes the init script inside the initrd filesystem. This loads hardware drivers and mounts the root partition.</li><li><strong>System startup</strong>- the operating system loads system daemons and services, sets up the network, mounts file systems, starts system logging, and performs other initialization tasks.</li></ol><p>It is common for a 512-bit partition to be present on Linux systems called the Master Boot Record (MBR). This partition contains the bootloader (GRUB, LILO, yaboot, or others) and boot records. This is one of the places that Linux can be booted from. Other locations include a bootloader from a storage device like USB flash drive or CDR or a bootloader that is transferred over the network such as with Preboot Execution Environment (<a href=https://en.wikipedia.org/wiki/Preboot_Execution_Environment>PXE</a>).</p><h2 id=secure-boot>Secure Boot<a hidden class=anchor aria-hidden=true href=#secure-boot>#</a></h2><p>Secure Boot is a security standard. When the computer is turned on, the Secure Boot process begins with firmware in the motherboard, which will check the cryptographic signatures of each of the boot files. This includes UEFI firmware drivers (aka optional ROMs), EFI applications, and the operating system. Once verified, the computer boots and the firmware gives control to the operating system.</p><h2 id=shim>Shim<a hidden class=anchor aria-hidden=true href=#shim>#</a></h2><p>When enabling Secure Boot, it is important to understand shim. In the context of SecureBoot, a shim is a pre-bootloader program that is designed to work with Secure Boot firmware. It allows for bootloaders and kernel modules to be loaded and executed if they are not included in the Secure Boot database. In Ubuntu, the shim loader is pre-installed and signed by the Microsoft certificate authority.</p><p>Secure Boot uses asymmetrical cryptography, meaning that a public and private key are used. The key pair can be generated by the user and the private key is used to sign all programs that are allowed to run, including the GRUB bootloader. The firmware on the BIOS or UEFI will use the public key to verify the checksums and signatures of programs before allowing them to execute.</p><p>You can check the signatures of your own shim loader with the <code>sbverify</code> command that comes with the <code>sbsigntool</code> package.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span># locate your shim binary  
</span></span><span style=display:flex><span>$ SHIM=$(sudo find /boot/efi/EFI/ -iname &#34;shim*&#34; 2&gt;/dev/null)  
</span></span><span style=display:flex><span>$ sbverify $SHIM  
</span></span><span style=display:flex><span>Signature verification OK
</span></span></code></pre></div><h2 id=uefi-variables>UEFI variables<a hidden class=anchor aria-hidden=true href=#uefi-variables>#</a></h2><p>Another concept to be familiar with is the UEFI variables which are stored in firmware non-volatile RAM (NV-RAM). These variables store various data such as boot order preferences, timeout values, network settings, storage device details, and Secure Boot settings. Each UEFI variable will have its own binary file under <code>/sys/firmware/efi/efivars/</code>. The naming convention for these files is the variable name followed by the vendor GUID. For example,<code>SecureBoot-8be4df61–93ca-11d2-aa0d-00e098032b8c</code>may be used to store whether Secure Boot is enabled (0x01) or disabled (0x00).</p><p>You can view some of these variables by either listing the contents of <code>/sys/firmware/efi/efivars/</code> or using the <code>[efivarfs](https://manpages.org/efivar)</code> tool to list and read the values.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=color:#f92672>$</span> sudo apt<span style=color:#f92672>-</span>get install efivar   
</span></span><span style=display:flex><span><span style=color:#f92672>$</span> sudo efivar <span style=color:#f92672>-</span>p <span style=color:#f92672>-</span>n <span style=color:#ae81ff>8</span>be4df61<span style=color:#f92672>-</span><span style=color:#ae81ff>93</span>ca<span style=color:#f92672>-</span><span style=color:#ae81ff>11</span>d2<span style=color:#f92672>-</span>aa0d<span style=color:#f92672>-</span><span style=color:#ae81ff>00e098032</span>b8c<span style=color:#f92672>-</span>SecureBoot <span style=color:#ae81ff>1</span> <span style=color:#960050;background-color:#1e0010>⨯</span>
</span></span></code></pre></div><p><img loading=lazy src=https://cdn-images-1.medium.com/max/800/1*NorYyiqugzWJsb0pbGlbmA.png alt>
<em>Example output of the above command</em></p><p>In this particular example, the value of the UEFI variable <code>SecureBoot</code> is 0x01, which indicates that it is currently enabled. Some of the other important variables for Secure Boot are the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>8be4df61-93ca-11d2-aa0d-00e098032b8c-PKDefault  
</span></span><span style=display:flex><span>8be4df61-93ca-11d2-aa0d-00e098032b8c-KEKDefault  
</span></span><span style=display:flex><span>8be4df61-93ca-11d2-aa0d-00e098032b8c-dbDefault  
</span></span><span style=display:flex><span>8be4df61-93ca-11d2-aa0d-00e098032b8c-dbxDefault
</span></span></code></pre></div><p>These values pertain to the key databases which are used to determine whether or not a module is safe to load.</p><h2 id=secure-boot-databases>Secure Boot Databases<a hidden class=anchor aria-hidden=true href=#secure-boot-databases>#</a></h2><p>Secure Boot utilizes 4 key databases. You can read more about them in the <a href=https://uefi.org/sites/default/files/resources/UEFI_Spec_2_9_2021_03_18.pdf>official specifications</a> or see a summary here:</p><ul><li><strong>Allowed Signature Database (db)</strong>- contains a list of cryptographic signatures that are allowed to load during the boot process.</li><li><strong>Disallowed Signature Database (dbx)</strong>- contains a list of the cryptographic signatures that are not allowed to be loaded during the boot process.</li><li><strong>Key Enrollment Key Database (KEK)</strong>- contains the key exchange keys used to authenticate other databases.</li><li><strong>Platform Key Database (PK)</strong>- contains the public key that is used to verify the signature of any bootloader or firmware that has been signed with its corresponding private key. The recommended platform key on UEFI is RSA-2048.</li></ul><p>The key databases essentially set the rules for which signatures are allowed to be loaded and which are not. This is important in Secure Boot because it helps to verify the integrity of modules before they are executed.</p><h2 id=machine-owner-keysmoks>Machine Owner Keys (MOKs)<a hidden class=anchor aria-hidden=true href=#machine-owner-keysmoks>#</a></h2><p>Another component of the boot process is Machine Owner Keys (MOKs). MOKs are an extra database of keys that can be managed by the user. This is separate from the certificate authority key that comes shipped with shim. They give the user more control over which modules can be loaded. For example, when a user enrolls a MOK on the system, the key associated with it is added to the allowed signature database (db). This means that any binary signed with that key will be trusted by the firmware during the boot process.</p><p>These are typically located in the<code>/var/lib/shim-signed/mok/</code> directory under the names <code>MOK.der</code>, <code>MOK.pem</code> or <code>MOK.priv</code>. If you don’t have MOK keys and would like to generate them, the following commands can be used:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=color:#75715e># mkdir -p /var/lib/shim-signed/mok/  </span>
</span></span><span style=display:flex><span><span style=color:#75715e># cd /var/lib/shim-signed/mok/  </span>
</span></span><span style=display:flex><span><span style=color:#75715e># openssl req -new -x509 -newkey rsa:2048 -keyout MOK.priv -outform DER -out MOK.der -days 36500 -subj &#34;/CN=My Name/&#34;  </span>
</span></span><span style=display:flex><span><span style=color:#75715e># openssl x509 -inform der -in MOK.der -out MOK.pem</span>
</span></span></code></pre></div><p>By default, shim provides a management utility called MokManager that can be used to, “enroll keys, remove trusted keys, enroll binary hashes and toggle Secure Boot validation at the shim level,” as described by the <a href=https://wiki.ubuntu.com/UEFI/SecureBoot>Ubuntu documentation</a>. Note that a password is typically required when using the MokManager to authenticate the user that is using it.</p><p>MokManager will help to properly configure the keys when key management is required. Once key management has been completed, the system will reboot to enable the key management changes. If things go well, it will continue to boot as expected without a MokManager screen.</p><h2 id=bootloader-configurations-and-information>Bootloader Configurations and Information<a hidden class=anchor aria-hidden=true href=#bootloader-configurations-and-information>#</a></h2><p>You can futher investigate your Linux machine’s boot process. One way to do this is to view the <code>/proc/cmdline</code> file. This contains the kernel boot command line arguments that were passed to the kernel during the boot process.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>$ cat /proc/cmdline  
</span></span><span style=display:flex><span># example output  
</span></span><span style=display:flex><span>BOOT\_IMAGE=/boot/vmlinuz-5.11.0-16-generic root=UUID=12345678-1234-1234-1234-1234567890AB ro quiet splash
</span></span></code></pre></div><p>This command will output the path to the kernel image file that is loaded by the bootloader via <code>BOOT_IMAGE</code>. The <code>quiet splash</code> option at the end is commonly used by the GRUB bootloader to specify to suppress verbose boot messages and display a graphical boot splash screen.</p><p>A <strong>kernel image</strong> is a binary file of the operating system core. It contains contains the necessary code and data structures to boot the system, manage memory, handle input/output operations, and execute user programs. They can be used by the bootloader to start the OS. The name of the kernel image will typically represent its version and architecture. For instance, the kernel image <code>vmlinuz-5.4.0–1042-aws</code> is version <code>5.4.0–1042</code> running on AWS archtecture.</p><p>The bootloader contains its own file system drivers (initramfs) that you can view if you know the <code>/boot/initrd*</code> file that corresponds to the kernel image in use. The easiest way to do this is with the tools from <code>[initramfs-tools-core](https://packages.debian.org/initramfs-tools-core "DebianPackage")</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>## list files inside the initramfs  
</span></span><span style=display:flex><span>$ lsinitramfs /boot/initrd.img-$(uname -r)  
</span></span><span style=display:flex><span>.  
</span></span><span style=display:flex><span>kernel  
</span></span><span style=display:flex><span>kernel/x86  
</span></span><span style=display:flex><span>.  
</span></span><span style=display:flex><span>bin  
</span></span><span style=display:flex><span>conf  
</span></span><span style=display:flex><span>conf/arch.conf  
</span></span><span style=display:flex><span>conf/conf.d  
</span></span><span style=display:flex><span>conf/conf.d/resume  
</span></span><span style=display:flex><span>-- snip --  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>## extract files from the initramfs  
</span></span><span style=display:flex><span>$ unmkinitramfs /boot/initrd.img-$(uname -r) initramfs/
</span></span></code></pre></div><p>This allows you to navigate the initramfs filesystem and gain a deeper understanding of how things are working as the system boots. If you extracted <code>initramfs</code>, you’ll notice that upon looking in the directory <code>./initramfs</code>, there are 3 folders: <code>early</code>, <code>early2</code>, and <code>main</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>$ ls initramfs  
</span></span><span style=display:flex><span>early early2 main
</span></span></code></pre></div><p>In the context of initramfs, <code>early</code> and <code>early2</code> refer to the first and second stage of the initial RAM filesystem. During the first stage, the minimal set of drivers and utilities that are needed to initialize the hardware and mount the real root filesystem are loaded. In the second stage, <code>early2</code>, loads additional drivers and utilities needed to fully initialize the system.</p><p>The <code>main</code> folder of initramfs contains the actual root filesystem image, as well as any additional tools or drivers that may be needed during the boot process. Once the root filesystem has been mounted, the system can proceed to load the regular set of services and daemons needed to run the operating system.</p><h2 id=checking-signatures-manually>Checking Signatures Manually<a hidden class=anchor aria-hidden=true href=#checking-signatures-manually>#</a></h2><p>You can check which modules are digitally signed using the <code>modinfo</code> command where a kernel’s signature will appear as a long string of hexadecimal values separated by colons.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>$ modinfo example.ko  
</span></span><span style=display:flex><span>filename: /lib/modules/5.10.0-5-amd64/kernel/drivers/misc/example.ko  
</span></span><span style=display:flex><span>version: 1.0.0  
</span></span><span style=display:flex><span>license: GPL  
</span></span><span style=display:flex><span>description: Example kernel module  
</span></span><span style=display:flex><span>author: John Doe &lt;jdoe@example.com&gt;  
</span></span><span style=display:flex><span>srcversion: 12AB34CD5678EF90ABCD1234  
</span></span><span style=display:flex><span>sig\_key: A0:3B:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF  
</span></span><span style=display:flex><span>sig\_hashalgo: sha256  
</span></span><span style=display:flex><span>signature: 12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF:12:34:56:78:90:AB:CD:EF
</span></span></code></pre></div><h1 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h1><p>Thanks for reading this overview of Secure Boot. I would encourage you to do further reading in the sources linked below because this article only scratched the surface. I hope that from this article you were able to come to appreciate the beautifully complex system of a Linux machine turning on.</p><h1 id=sources>Sources<a hidden class=anchor aria-hidden=true href=#sources>#</a></h1><ul><li><a href=https://wiki.ubuntu.com/UEFI/SecureBoot>Ubuntu’s wiki</a> on Secure Boot (detailed)</li><li><a href=https://wiki.ubuntu.com/Booting>Ubuntu’s wiki on Booting Process</a></li><li><a href=https://www.kernel.org/doc/html/latest/admin-guide/module-signing.html>Linux Documentation- Kernel Module Signing</a></li><li><a href=https://youtu.be/WRFnOh_pqX8>Mike Danslegio Explains Secure Boot</a></li><li><a href=https://en.wikipedia.org/wiki/User_space_and_kernel_space>User Space and Kernel Space in Linux</a></li><li><a href=https://www.kernel.org/doc/html/latest/filesystems/ramfs-rootfs-initramfs.html>Kernel.org- Ramfs, rootfs, and initramfs</a></li><li><a href=https://wiki.debian.org/SecureBoot>SecureBoot Debian Wiki</a></li><li><a href=https://itsfoss.com/check-uefi-or-bios/>Check UEFI or BIOS</a></li><li><a href=https://www.kernel.org/doc/html/latest/admin-guide/initrd.html>Using the initial RAM disk (initrd)</a></li><li><a href=https://www.ubuntupit.com/linux-boot-process-explained-step-by-step-for-beginners/>Linux Boot Process Explained</a></li><li><a href=https://en.wikipedia.org/wiki/Preboot_Execution_Environment>Preboot Execution Environment</a></li><li><a href=https://unix.stackexchange.com/questions/414799/efi-variable-entries-in-sys-firmware-efi-efivars>EFI Variables- Stack Exchange</a></li><li><a href=https://uefi.org/sites/default/files/resources/UEFI_Spec_2_9_2021_03_18.pdf>UEFI Specification Version 2.9 (March 2021)</a></li><li><a href=https://wiki.debian.org/initramfs>Initramfs Debian Wiki</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://ally-petitt.com/en/tags/secure-boot/>Secure Boot</a></li><li><a href=https://ally-petitt.com/en/tags/linux/>Linux</a></li></ul><nav class=paginav><a class=prev href=https://ally-petitt.com/en/posts/2023-05-02_snort-ips-quickstart-27559ae01fae/><span class=title>« Prev</span><br><span>Snort IPS Quickstart</span>
</a><a class=next href=https://ally-petitt.com/en/posts/2023-04-23_how-to-prevent-data-leaks-before-they-happen-3c53997b3744/><span class=title>Next »</span><br><span>How to Prevent Data Leaks Before they Happen</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Digging into the Linux Secure Boot Process on x" href="https://x.com/intent/tweet/?text=Digging%20into%20the%20Linux%20Secure%20Boot%c2%a0Process&amp;url=https%3a%2f%2fally-petitt.com%2fen%2fposts%2f2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b%2f&amp;hashtags=SecureBoot%2cLinux"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Digging into the Linux Secure Boot Process on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fally-petitt.com%2fen%2fposts%2f2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b%2f&amp;title=Digging%20into%20the%20Linux%20Secure%20Boot%c2%a0Process&amp;summary=Digging%20into%20the%20Linux%20Secure%20Boot%c2%a0Process&amp;source=https%3a%2f%2fally-petitt.com%2fen%2fposts%2f2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Digging into the Linux Secure Boot Process on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fally-petitt.com%2fen%2fposts%2f2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b%2f&title=Digging%20into%20the%20Linux%20Secure%20Boot%c2%a0Process"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Digging into the Linux Secure Boot Process on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fally-petitt.com%2fen%2fposts%2f2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Digging into the Linux Secure Boot Process on whatsapp" href="https://api.whatsapp.com/send?text=Digging%20into%20the%20Linux%20Secure%20Boot%c2%a0Process%20-%20https%3a%2f%2fally-petitt.com%2fen%2fposts%2f2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Digging into the Linux Secure Boot Process on telegram" href="https://telegram.me/share/url?text=Digging%20into%20the%20Linux%20Secure%20Boot%c2%a0Process&amp;url=https%3a%2f%2fally-petitt.com%2fen%2fposts%2f2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Digging into the Linux Secure Boot Process on ycombinator" href="https://news.ycombinator.com/submitlink?t=Digging%20into%20the%20Linux%20Secure%20Boot%c2%a0Process&u=https%3a%2f%2fally-petitt.com%2fen%2fposts%2f2023-04-29_digging-into-the-linux-secure-boot-process-9631a70b158b%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://ally-petitt.com/en/>Ally Petitt</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>